<mvc:View
    controllerName="com.sap.fiorichargeapp.controller.Overview"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:core="sap.ui.core"
    core:require="{
        DateTimeType: 'sap/ui/model/odata/type/DateTime',
        TimeType: 'sap/ui/model/odata/type/Time'
    }">
	
    <Page id="page">
        <customHeader>
			<Bar>
                <contentLeft>
                    <Label text=""/>    
                </contentLeft>    
				<contentMiddle>
					<Label text="{i18n>title}"/>
                       
				</contentMiddle>
			</Bar>
        </customHeader>
        <l:VerticalLayout width="100%">
		    <fb:FilterBar reset="onReset" search="handleOnSearch" showRestoreButton="true" showClearButton="true">
                <fb:filterGroupItems>    
                    <fb:FilterGroupItem groupName="__$INTERNAL$" name="Stores" label="Stores" labelTooltip="Tooltip Example" mandatory="true" partOfCurrentVariant="true" visibleInFilterBar="true">
                        <fb:control>
                            <ComboBox id="cbStore" items="{ path:'LocalModel>/Stores', sorter: { path: 'StoreID' } }" selectionChange="handleStoreChange">
                                <core:Item key="{LocalModel>StoreID}" text="{LocalModel>StoreName}"/>    
                            </ComboBox>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem groupName="__$INTERNAL$" name="Department" label="Department" labelTooltip="Tooltip Example" mandatory="true" partOfCurrentVariant="true" visibleInFilterBar="true">
                        <fb:control>
                             <ComboBox id="cbDepartment" items="{ path:'LocalModel>/Departments', sorter: { path: 'DepartmentID' } }">
                                <core:Item key="{LocalModel>DepartmentID}" text="{LocalModel>DepartmentDescription}"/>    
                            </ComboBox>
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>   
            </fb:FilterBar>		
        </l:VerticalLayout>
        <Table id="tbCharge" growing="true" growingThreshold="10" items="{path:'LocalModel>/Batches'}" mode="Delete" delete="handleChargeDelete">
				<headerToolbar>
					<OverflowToolbar id="otbSubheader">
                        <Title id="tbHeaderTitle" level="H2" />
                        <ToolbarSpacer />
                        <Button id="btCopyfromCentral" text="Copy From Central" visible="false"
                            press="handleCopyFromCentral" type="Default" />
                        <Button id="editButton" text="Edit" 
                            press="handleEdit" />
                        
                        <Button id="btCreate" text="Save" 
							press="handleCreateBatch" visible="false" />
                        <Button id="saveButton" text="Save" 
							press="handleSave" visible="false" />
						<Button id="cancelButton" text="Cancel" 
							press="handleCancel" visible="false" />   
					</OverflowToolbar>
				</headerToolbar>
				<columns>
					<Column width="12em">
						<Text text="Charge Nr" />
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="Mon" />
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="Tues" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="Wed" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="Thurs" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="Fri" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="Sat" />
					</Column>
					<Column hAlign="Center">
						<Text text="Sun" />
					</Column>
				</columns>
				<items>
					<ColumnListItem>
						<cells>
							<ObjectStatus
                                class="sapUiSmallMarginBottom"
                                text="{LocalModel>BatchID}"
                                state="None" />
                                <Text text="{
                                    path: 'LocalModel>Time_Monday',
                                    type: 'TimeType',
                                    formatOptions: { style: 'medium' }
                                }" />
                                 <Text text="{
                                    path: 'LocalModel>Time_Tuesday',
                                    type: 'TimeType',
                                    formatOptions: { style: 'medium' }
                                }" />
                                 <Text text="{
                                    path: 'LocalModel>Time_Wednesday',
                                    type: 'TimeType',
                                    formatOptions: { style: 'medium' }
                                }" />
                                 <Text text="{
                                    path: 'LocalModel>Time_Thursday',
                                    type: 'TimeType',
                                    formatOptions: { style: 'medium' }
                                }" />
                                 <Text text="{
                                    path: 'LocalModel>Time_Friday',
                                    type: 'TimeType',
                                    formatOptions: { style: 'medium' }
                                }" />
                                 <Text text="{
                                    path: 'LocalModel>Time_Saturday',
                                    type: 'TimeType',
                                    formatOptions: { style: 'medium' }
                                }" />
                                 <Text text="{
                                    path: 'LocalModel>Time_Sunday',
                                    type: 'TimeType',
                                    formatOptions: { style: 'medium' }
                                }" />
                        </cells>
					</ColumnListItem>
				</items>
            </Table>
    </Page>
</mvc:View>
